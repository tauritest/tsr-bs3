.sub-menu {

  border-bottom: 1px solid lighten($gray,50%);

  ul {

    margin: 0;

    li {

      margin: 0;
      position: relative;

      > a {

        line-height: 20px;
        padding: 20px;
        display: inline-block;

        &:hover {

          text-decoration:none;

          &:before {
            background-color: darken($navbar-inverse-bg,7.6%);
            bottom: 0;
            content: "";
            display: block;
            height: 4px;
            left: 0;
            position: absolute;
            top: auto;
            width: 100%;
          }

        }
      }

      &:first-child{
        > a {
          //padding-left: 0;
        }
      }

      &.active {
        
        > a:before {
            background-color: darken($navbar-inverse-bg,7.6%);
            bottom: 0;
            content: "";
            display: block;
            height: 4px;
            left: 0;
            position: absolute;
            top: auto;
            width: 100%;
        }
      }

    }

    li:not(:last-child) {
       
      > a {

        &:after {
            background-color: lighten($gray,50%);
            content: "";
            display: block;
            height: 20px;
            margin-top: -10px;
            position: absolute;
            right: -3px;
            top: 50%;
            width: 1px;
            z-index: 1; 
        }

      }

    }
  }
}